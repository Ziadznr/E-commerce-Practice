import TemplateError from "./error";
async function loader(id_or_url, _options) {
    try {
        if (/\/|\\|data:null;base64/g.test(id_or_url)) { // url or base64 data
            return await fetch(id_or_url).then(response => response.text());
        }
        else { // dom id
            const elem = document.getElementById(id_or_url);
            return elem.value || elem.innerHTML;
        }
    }
    catch (e) {
        const error = new TemplateError({
            name: 'CompileError',
            path: id_or_url,
            message: `template not found: ${e.message}`,
            stack: e.stack
        });
        throw error;
    }
}
export default loader;
